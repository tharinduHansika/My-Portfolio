<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Store</title>

    <!----For bootstrap responsive--------------->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!----bootstrap css sheet---------->
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css">

    <!----styles sheet----------->
    <link rel="stylesheet" href="../assets/css/styles.css">
</head>

<body class="container-fluid">

<!--Header-->
<header id="headerSection">
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand fw-bold text-danger" href="#">
        <img src="../assets/images/cart%20logo.png" alt="Bootstrap" width="30" height="24"> POS System
      </a>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="../../POS/index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="manage%20customer.html">Customer</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="manage%20store.html">Store</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="place%20order.html">Order</a>
          </li>
        </ul>
        <form class="d-flex" role="search">
          <!--<div class="navbar-nav me-auto mb-2 mb-lg-0">
              <a class="nav-link dropdown-toggle " href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Dropdown
              </a>
              <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
              </ul>
          </div>-->


          <!--<input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success" type="submit">Search</button>-->
        </form>
      </div>
    </div>
  </nav>
</header>

<!-------Tab header and search bar---------->

<!--<main class="row mx-4 position-relative ">
  <section class="col-12 mb-4">
    <div class="row">
      <div
           class="p-1 px-3 col rounded-0 fw-bolder bg-danger text-light fs-3 mt-4 shadow-sm">
        Manage Store
      </div>
    </div>

  </section>

  <section class="col-12 row">
    <section class="col-7 ps-4">
      <section class="col-12 mt-4 mb-5">
        <form class="row g-3">
          <div class="col-3">
            <select id="disabledSelect" class="form-select">
              <option>Item Code</option>
              <option>Item Name</option>
            </select>
          </div>

          <div class="col">
            <input type="email" class="form-control" id="exampleFormControlInput1"
                   placeholder="Search Item">
          </div>

          <div class="col-1" style="width: max-content">
            <button type="button" class="btn btn-outline-primary">Search</button>
          </div>

          <div class="col-1" style="width: max-content">
            <button type="button" class="btn btn-outline-warning">Clear</button>
          </div>

          <div class="col-2">
            <button type="button" class="btn btn-success align-self-end" data-bs-toggle="modal"
                    data-bs-target="#exampleModal">+ Add Item
            </button>

            &lt;!&ndash; Modal &ndash;&gt;
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Add New Item</h5>
                    <button type="button" class="btn-close btn-close-white"
                            data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form>
                      <div class="mb-3">
                        <label for="item-code" class="col-form-label">Item Code:</label>
                        <input type="text" class="form-control" id="item-code">
                      </div>
                      <div class="mb-3">
                        <label for="item-name" class="col-form-label">Item Name:</label>
                        <input type="text" class="form-control" id="item-name">
                      </div>
                      <div class="mb-3">
                        <label for="item-price" class="col-form-label">Item Price:</label>
                        <input type="text" class="form-control" id="item-price">
                      </div>
                      <div class="mb-3">
                        <label for="item-qty" class="col-form-label">Item Quantity:</label>
                        <input type="text" class="form-control" id="item-qty">
                      </div>
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close
                    </button>
                    <button type="button" class="btn btn-primary">Save</button>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </form>
      </section>

      <section class="col-12">
        &lt;!&ndash;Item Table&ndash;&gt;
        <table class="table table-hover table-striped mt-2">
          <thead class="text-white" style="background: #17377f;">
          <tr>
            <th>Item Code</th>
            <th>Item Name</th>
            <th>Price (LKR)</th>
            <th>Qty On Hand</th>
          </tr>
          </thead>
          <tbody id="tblItem">
            &lt;!&ndash;<tr>
              <td>I001</td>
              <td>Sugar</td>
              <td>400.00</td>
              <td>300</td>
            </tr>

            <tr>
              <td>I002</td>
              <td>Shampoo</td>
              <td>250.00</td>
              <td>500</td>
            </tr>

            <tr>
              <td>I003</td>
              <td>Soap</td>
              <td>350.00</td>
              <td>1000</td>
            </tr>

            <tr>
              <td>I004</td>
              <td>Sausage Family Pack</td>
              <td>120.00</td>
              <td>600</td>
            </tr>&ndash;&gt;
          </tbody>
        </table>
      </section>
    </section>

    &lt;!&ndash;Customer Manage Form&ndash;&gt;
    <section class="col-5 row justify-content-end">
      <section class="col-8 border rounded shadow">
        <form id="item-form" >
          <div class="mb-3">
            <label for="iCode" class="form-label">Item Code</label>
            <input type="text" class="form-control" id="iCode" aria-describedby="codeHelp"
                   placeholder="I001">
            <div id="codeHelp" class="form-text">Eg :- I001</div>
          </div>
          <div class="mb-3">
            <label for="iName" class="form-label">Item Name</label>
            <input type="text" class="form-control" id="iName" aria-describedby="nameHelp"
                   placeholder="Sugar">
            <div id="nameHelp" class="form-text">At least, Name should be 3 characters long.</div>
          </div>
          <div class="mb-3">
            <label for="iPrice" class="form-label">Price (LKR)</label>
            <input type="text" class="form-control" id="iPrice" aria-describedby="priceHelp"
                   placeholder="400.00">
            <div id="priceHelp" class="form-text">Only numbers are allowed.</div>
          </div>
          <div class="mb-3">
            <label for="iQty" class="form-label">Quantity</label>
            <input type="text" class="form-control" id="iQty" aria-describedby="qtyHelp"
                   placeholder="10">
            <div id="qtyHelp" class="form-text">Only integer numbers are allowed.</div>
          </div>
          <div style="display: inline-block" class="me-2">
            <button id="save-btn" type="button" class="btn btn-success">Save</button>
          </div>
          <div style="display: inline-block" class="me-2">
            <button id="updated-btn" type="button" class="btn btn-primary">Update</button>
          </div>
          <div style="display: inline-block" class="me-2">
            <button id="delete-btn" type="button" class="btn btn-danger">Delete</button>
          </div>
          <div style="display: inline-block">
            <button id="clear-btn" type="button" class="btn btn-warning">Clear</button>
          </div>
          <div style="display: inline-block">
            <button id="getAll-btn" type="button" class="btn btn-info">Get All</button>
          </div>
        </form>
      </section>
    </section>
  </section>
</main>-->

<main class="justify-content-center mt-4 align-content-center">
  <section class="row col-12">
    <section id="displaySection" class="col-9 mx-0 my-4">
      <section id="formNameAndSearch" class="mx-4">
        <nav class="navbar bg-light  ">
          <div class="container-fluid">
            <a class="navbar-brand">Manage Store</a>
            <form class="d-flex" role="search">

              <!-- Example single danger button -->
              <div class="btn-group mx-2">
                <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                  Code
                </button>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">Code</a></li>
                  <li><a class="dropdown-item" href="#">Name</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#">Separated link</a></li>
                </ul>
              </div>

              <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-success me-2" type="Button">Search</button>
              <button class="btn btn-outline-primary" type="Button">Clear</button>
              <!--<button type="button" class="btn btn-success">Add New +</button>-->

            </form>
          </div>
        </nav>
      </section>

      <section id="table" class="mx-4">
        <table class="table my-4">
          <thead class="table-dark">
          <tr id="tableHeader">
            <th scope="col">Code</th>
            <th scope="col">Name</th>
            <th scope="col">Price</th>
            <th scope="col">Qty On Hand</th>
          </tr>
          </thead>
          <tbody id="tblItem">
          </tbody>
        </table>
      </section>
    </section>

    <section id="inputSection" class="col-3 justify-content-center my-4 ">
      <section class="col-12 card">
        <div class="badge bg-primary text-wrap fs-5 fw-semibold p-4">
          Input Details
        </div>

        <form id="item-form px-2" >
          <div class="m-3">
            <label for="txtItemCode" class="form-label">Item Code</label>
            <input type="text" class="form-control " placeholder="I001" id="txtItemCode">
          </div>
          <div class="m-3">
            <label for="txtItemName" class="form-label">Item Name</label>
            <input type="text" class="form-control" placeholder="Sugar" id="txtItemName" >
          </div>
          <div class="m-3">
            <label for="txtItemPrice" class="form-label">Item Price</label>
            <input type="text" class="form-control" placeholder="350.00" id="txtItemPrice" >
          </div>
          <div class="m-3">
            <label for="txtQty" class="form-label">Item uantity on Hand</label>
            <input type="text" class="form-control" placeholder="35000.00" id="txtQty" >
          </div>

          <div class="m-3 justify-content-center">
            <div style="display: inline-block" class="me-2">
              <button id="save-btn" type="button" class="btn btn-success">Save</button>
            </div>
            <div style="display: inline-block" class="me-2">
              <button id="updated-btn" type="button" class="btn btn-primary">Update</button>
            </div>
            <div style="display: inline-block" class="me-2">
              <button id="delete-btn" type="button" class="btn btn-danger">Delete</button>
            </div>
            <div style="display: inline-block" class="me-2">
              <button id="clear-btn" type="button" class="btn btn-warning">Clear</button>
            </div>
            <div style="display: inline-block">
              <button id="getAll-btn" type="button" class="btn btn-secondary">Get All</button>
            </div>
          </div>

        </form>
      </section>
    </section>
  </section>
</main>

<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/jquery-3.6.1.min.js"></script>


<script>

  //created global scope array for items
  var items = [];

  <!----------save items----------->
  $('#save-btn').click(function (){

    let itemCode = $("#txtItemCode").val();
    let itemName = $("#txtItemName").val();
    let itemPrice = $("#txtItemPrice").val();
    let itemQuantity = $("#txtQty").val();

    var itemObj = {
      code : itemCode,
      name : itemName,
      price : itemPrice,
      qty : itemQuantity
    }

    items.push(itemObj);

    loadAllItems();

    bindRowClickEvents();

  });

  function loadAllItems(){
    $("#tblItem").empty();

    for (var item of items){
      var row = `<tr><td>${item.code}</td><td>${item.name}</td><td>${item.price}</td><td>${item.qty}</td></tr>`;
    }

    $("#tblItem").append(row)
  }

  function bindRowClicksEvents(){
    $("#tblItem>tr").click(function () {
      let code = $(this).children(":eq(0)").text();
      let name = $(this).children(":eq(1)").text();
      let price = $(this).children(":eq(2)").text();
      let qty = $(this).children(":eq(3)").text();
      // console.log(id, name, address, salary);

      //setting table details values to text fields
      $('#txtItemCode').val(code);
      $('#txtItemName').val(name);
      $('#txtItemPrice').val(price);
      $('#txtQty').val(qty);

    });
  }


</script>

</body>
</html>