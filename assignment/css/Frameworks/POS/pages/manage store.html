<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Store</title>

    <!----For bootstrap responsive--------------->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!----bootstrap css sheet---------->
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css">

    <!----styles sheet----------->
    <link rel="stylesheet" href="../assets/css/styles.css">
</head>

<body class="container-fluid">

<!--Header-->
<header id="headerBar" class="row position-relative">
  <nav class="navbar navbar-expand-lg bg-transparent border-bottom shadow-lg">
    <div class="container-fluid">
      <!--            <h2 id="main-h2" class="navbar-brand fw-bolder fs-2" style="color: white">POS System</h2>-->

      <h2 id="main-h2"><a class="navbar-brand fw-bolder fs-2 position-relative" style="color: white" href="#"><img
              width="42" height="42" class="position-relative" style="bottom: 3px; margin-right: 1px;"
              src="../assets/images/cart%20logo.png"> <span
              class="text-success" style="color: #ff253a!important;">POS System</span></a></h2>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02"
              aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link header-nav" aria-current="page" href="../index.html"><i
                    class="fa-solid fa-house-chimney"></i>Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link header-nav" href="../pages/manage%20customer.html"><i
                    class="fa-solid fa-user"></i>Customers</a>
          </li>
          <li class="nav-item">
            <a id="item-nav" class="nav-link" href="../pages/manage%20store.html"><i
                    class="fa-solid fa-burger"></i>Items</a>
          </li>
          <li class="nav-item">
            <a class="nav-link header-nav" href="../pages/place%20order.html"><i
                    class="fa-solid fa-cart-arrow-down"></i>Orders</a>
          </li>
        </ul>
        <ul class="navbar-nav me-6 mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" style="color: white" aria-current="page" href="#"><i
                    class="bi bi-person-plus-fill"></i>
              Sign Up</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" style="color: white" aria-current="page" href="#"><i
                    class="bi bi-box-arrow-right"></i>
              Log Out</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<!-------Tab header and search bar---------->

<main class="row mx-4 position-relative ">
  <section class="col-12 mb-4">
    <div class="row">
      <div
           class="p-1 px-3 col rounded-0 fw-bolder bg-danger text-light fs-3 mt-4 shadow-sm">
        Manage Store
      </div>
    </div>

  </section>

  <section class="col-12 row">
    <section class="col-7 ps-4">
      <section class="col-12 mt-4 mb-5">
        <form class="row g-3">
          <div class="col-3">
            <select id="disabledSelect" class="form-select">
              <option>Item Code</option>
              <option>Item Name</option>
            </select>
          </div>

          <div class="col">
            <input type="email" class="form-control" id="exampleFormControlInput1"
                   placeholder="Search Item">
          </div>

          <div class="col-1" style="width: max-content">
            <button type="button" class="btn btn-outline-primary">Search</button>
          </div>

          <div class="col-1" style="width: max-content">
            <button type="button" class="btn btn-outline-warning">Clear</button>
          </div>

          <div class="col-2">
            <button type="button" class="btn btn-success align-self-end" data-bs-toggle="modal"
                    data-bs-target="#exampleModal">+ Add Item
            </button>

            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Add New Item</h5>
                    <button type="button" class="btn-close btn-close-white"
                            data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form>
                      <div class="mb-3">
                        <label for="item-code" class="col-form-label">Item Code:</label>
                        <input type="text" class="form-control" id="item-code">
                      </div>
                      <div class="mb-3">
                        <label for="item-name" class="col-form-label">Item Name:</label>
                        <input type="text" class="form-control" id="item-name">
                      </div>
                      <div class="mb-3">
                        <label for="item-price" class="col-form-label">Item Price:</label>
                        <input type="text" class="form-control" id="item-price">
                      </div>
                      <div class="mb-3">
                        <label for="item-qty" class="col-form-label">Item Quantity:</label>
                        <input type="text" class="form-control" id="item-qty">
                      </div>
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close
                    </button>
                    <button type="button" class="btn btn-primary">Save</button>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </form>
      </section>

      <section class="col-12">
        <!--Item Table-->
        <table class="table table-hover table-striped mt-2">
          <thead class="text-white" style="background: #17377f;">
          <tr>
            <th>Item Code</th>
            <th>Item Name</th>
            <th>Price (LKR)</th>
            <th>Qty On Hand</th>
          </tr>
          </thead>
          <tbody id="tblItem">
            <!--<tr>
              <td>I001</td>
              <td>Sugar</td>
              <td>400.00</td>
              <td>300</td>
            </tr>

            <tr>
              <td>I002</td>
              <td>Shampoo</td>
              <td>250.00</td>
              <td>500</td>
            </tr>

            <tr>
              <td>I003</td>
              <td>Soap</td>
              <td>350.00</td>
              <td>1000</td>
            </tr>

            <tr>
              <td>I004</td>
              <td>Sausage Family Pack</td>
              <td>120.00</td>
              <td>600</td>
            </tr>-->
          </tbody>
        </table>
      </section>
    </section>

    <!--Customer Manage Form-->
    <section class="col-5 row justify-content-end">
      <section class="col-8 border rounded shadow">
        <form id="item-form" >
          <div class="mb-3">
            <label for="iCode" class="form-label">Item Code</label>
            <input type="text" class="form-control" id="iCode" aria-describedby="codeHelp"
                   placeholder="I001">
            <div id="codeHelp" class="form-text">Eg :- I001</div>
          </div>
          <div class="mb-3">
            <label for="iName" class="form-label">Item Name</label>
            <input type="text" class="form-control" id="iName" aria-describedby="nameHelp"
                   placeholder="Sugar">
            <div id="nameHelp" class="form-text">At least, Name should be 3 characters long.</div>
          </div>
          <div class="mb-3">
            <label for="iPrice" class="form-label">Price (LKR)</label>
            <input type="text" class="form-control" id="iPrice" aria-describedby="priceHelp"
                   placeholder="400.00">
            <div id="priceHelp" class="form-text">Only numbers are allowed.</div>
          </div>
          <div class="mb-3">
            <label for="iQty" class="form-label">Quantity</label>
            <input type="text" class="form-control" id="iQty" aria-describedby="qtyHelp"
                   placeholder="10">
            <div id="qtyHelp" class="form-text">Only integer numbers are allowed.</div>
          </div>
          <div style="display: inline-block" class="me-2">
            <button id="save-btn" type="button" class="btn btn-success">Save</button>
          </div>
          <div style="display: inline-block" class="me-2">
            <button id="updated-btn" type="button" class="btn btn-primary">Update</button>
          </div>
          <div style="display: inline-block" class="me-2">
            <button id="delete-btn" type="button" class="btn btn-danger">Delete</button>
          </div>
          <div style="display: inline-block">
            <button id="clear-btn" type="button" class="btn btn-warning">Clear</button>
          </div>
          <div style="display: inline-block">
            <button id="getAll-btn" type="button" class="btn btn-info">Get All</button>
          </div>
        </form>
      </section>
    </section>
  </section>
</main>

<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/jquery-3.6.1.min.js"></script>


<script>

  //created global scope array for items
  var items = [];

  <!----------save items----------->
  $('#save-btn').click(function (){

    let itemCode = $("#iCode").val();
    let itemName = $("#iName").val();
    let itemPrice = $("#iPrice").val();
    let itemQuantity = $("#iQty").val();

    var itemObj = {
      code : itemCode,
      name : itemName,
      price : itemPrice,
      qty : itemQuantity
    }

    items.push(itemObj);

    loadAllItems();

    bindRowClickEvents();

  });

  function loadAllItems(){
    $("#tblItem").empty();

    for (var item of items){
      var row = `<tr><td>${item.code}</td><td>${item.name}</td><td>${item.price}</td><td>${item.qty}</td></tr>`;
    }

    $("#tblItem").append(row)
  }

  function bindRowClicksEvents(){
    $("#tblCustomer>tr").click(function () {
      let code = $(this).children(":eq(0)").text();
      let name = $(this).children(":eq(1)").text();
      let price = $(this).children(":eq(2)").text();
      let qty = $(this).children(":eq(3)").text();
      // console.log(id, name, address, salary);

      //setting table details values to text fields
      $('#txtCustomerID').val(code);
      $('#txtCustomerName').val(name);
      $('#txtCustomerAddress').val(price);
      $('#txtCustomerSalary').val(qty);

    });
  }


</script>

</body>
</html>